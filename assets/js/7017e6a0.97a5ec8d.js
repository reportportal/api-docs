"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[42512],{29217:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"authorization","title":"API Authorization","description":"Introduction","source":"@site/api-docs/authorization.mdx","sourceDirName":".","slug":"/authorization","permalink":"/api-docs/authorization","draft":false,"unlisted":false,"editUrl":"https://github.com/reportportal/api-docs/blob/develop/api-docs/authorization.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"apiOverview","previous":{"title":"Overview","permalink":"/api-docs/"}}');var s=t(74848),i=t(28453);const r={},o="API Authorization",d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"JWT token",id:"jwt-token",level:2},{value:"API key",id:"api-key",level:2},{value:"Revoke key",id:"revoke-key",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"api-authorization",children:"API Authorization"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"ReportPortal supports two types of tokens:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JWT (JSON Web Token)"}),"\n",(0,s.jsx)(n.li,{children:"API key"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["All tokens are used as a bearer token in the ",(0,s.jsx)(n.code,{children:"Authorization"})," header."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <token>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"jwt-token",children:"JWT token"}),"\n",(0,s.jsx)(n.p,{children:"This token contains user information and has an expiration time."}),"\n",(0,s.jsx)(n.p,{children:"We use this token for authentication in the web interface and for some API requests."}),"\n",(0,s.jsx)(n.p,{children:"Use the password flow to receive a JWT token:"}),"\n",(0,s.jsx)(n.p,{children:"HTTP Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"POST http://localhost:8080/uat/sso/oauth/token\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic dWk6dWltYW4=\n\ngrant_type=password&username=default&password=1q2w3e\n"})}),"\n",(0,s.jsx)(n.p,{children:"cURL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl http://localhost:8080/uat/sso/oauth/token \\\n  --request POST \\\n  --header "Content-Type: application/x-www-form-urlencoded" \\\n  --user "ui:uiman" \\\n  --data "grant_type=password&username=default&password=1q2w3e"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"access_token"})," as a bearer token in the ",(0,s.jsx)(n.code,{children:"Authorization"})," header."]}),"\n",(0,s.jsx)(n.h2,{id:"api-key",children:"API key"}),"\n",(0,s.jsx)(n.p,{children:"This is a simple key that can be used to authenticate requests and does not have an expiration time."}),"\n",(0,s.jsx)(n.p,{children:"Use this token for automation scripts, agents, and development purposes."}),"\n",(0,s.jsx)(n.p,{children:"We don't store keys in the database, so you need to create a key and store it in a safe place."}),"\n",(0,s.jsx)(n.p,{children:"HTTP Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:'POST http://localhost:8080/api/users/{{user_id}}/api-keys\nContent-Type: application/json\nAuthorization: Bearer {{token}}\n\n{\n  "name": "token name"\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"cURL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl http://localhost:8080/api/users/{user_id}/api-keys \\\n  --request POST \\\n  --header "Content-Type: application/json" \\\n  --header "Authorization: Bearer {token}" \\\n  --data \'{"name": "Token name"}\'\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"api_key"})," as a bearer token in the ",(0,s.jsx)(n.code,{children:"Authorization"})," header."]}),"\n",(0,s.jsx)(n.h2,{id:"revoke-key",children:"Revoke key"}),"\n",(0,s.jsx)(n.p,{children:"HTTP Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"DELETE http://localhost:8080/api/users/{{user_id}}/api-keys/{{key_id}}\nAuthorization: Bearer {{token}}\n"})}),"\n",(0,s.jsx)(n.p,{children:"cURL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl http://localhost:8080/api/users/{user_id}/api-keys/{key_id} \\\n  --request DELETE \\\n  --header "Authorization: Bearer {token}"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);